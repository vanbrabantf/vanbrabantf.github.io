<!DOCTYPE HTML>
<html lang="en">
<html>
	<head>
    	<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="description" content="Webdeveloper from Antwerp Belgium with a love for legacy code and APIs">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="author" content="Frederick Vanbrabant" />
    	<title>Frederick Vanbrabant delirious rantings</title>

		
		<meta name="twitter:site" content="@maybefrederick" />
        <meta name="twitter:description" content="" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:creator" content="@maybefrederick" />
		<meta name="twitter:title" content="Atomic commits: Telling stories with Git" />

		
			<meta property="og:image" content="https://frederickvanbrabant.com/assets/posts/2017-12-7-atomic-commits/tump.jpg" />
			<meta name="twitter:image" content="https://frederickvanbrabant.com/assets/posts/2017-12-7-atomic-commits/tump.jpg" />
		


    	
    	<meta name="msapplication-tap-highlight" content="no">

    	
    	<link rel="manifest" href="/assets/manifest.json">

    	 
	    <meta name="mobile-web-app-capable" content="yes">
	    <meta name="application-name" content="Frederick Vanbrabant delirious rantings">
	    <link rel="icon" sizes="192x192" href="/assets/images/touch/chrome-touch-icon-192x192.png">

	    
	    <meta name="apple-mobile-web-app-capable" content="yes">
	    <meta name="apple-mobile-web-app-status-bar-style" content="black">
	    <meta name="apple-mobile-web-app-title" content="Frederick Vanbrabant delirious rantings">
	    <link rel="apple-touch-icon" href="/assets/images/touch/chrome-touch-icon-192x192.png">

	    
	    <meta name="msapplication-TileImage" content="/assets/images/touch/chrome-touch-icon-144x144.png">
	    <meta name="msapplication-TileColor" content="#d52349">

	    
    	<meta name="theme-color" content="#d52349">

		<script>
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', function() {
					navigator.serviceWorker.register('/assets/js/serviceworker.js').then(function(registration) {
						
						console.log('ServiceWorker registration successful with scope: ', registration.scope);
					}).catch(function(err) {
						
						console.log('ServiceWorker registration failed: ', err);
					});
				});
			}
		</script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.2/gh-fork-ribbon.min.css" />
		<link rel="stylesheet" href="/assets/css/style.css" />
	</head>


<div class="container">
        <div class="row header">
            <div class="col padding-0">
                <h1><a href="/index.html">Frederick Vanbrabant's</a></h1>
                <h2>delirious rantings</h2>
            </div>
        </div>
    </div>
    <div class="jumbotron cover-image" style="background-image: url('/assets/posts/2017-12-7-atomic-commits/header.jpg');" >
    </div>
        
    <div id="main-wrapper">
	<div class="container">
		<div class="row">
			<div class="col">
			
				<section>
					<header class="blog-title">
						<h1>Atomic commits: Telling stories with Git</h1>
						<p>Posted 7 December, 2017- About 4 mins to read</p>
					</header>
					<div class="row blog-body">
						<div class="col">
							<section>
								

<p>I always find it amazing to see how different people create pull requests. Some people like to put every file they’ve touched into one big commit. Other people split their commits up per file. There are even people that split it up according to domains.</p>

<p>I’ve been all these people at one point in my career, but these days I’m all into atomic commits. Never heard of that concept? No worries, let me introduce you to:</p>

<h2 id="the-case-for-atomic-commits">The case for atomic commits</h2>

<p>Atomic commits, sometimes also called micro commits, is the practice of explaining your thought process in the form of commit messages and code. It comes down to documenting the way to the solution.</p>

<p>An example is the easiest way to demo this.</p>

<p>Take for example this pseudo code:</p>

<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NewsController</span> {
   <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">index</span>() {
       <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Database</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sql</span>(<span style="color:#e6db74">&#34;select * from news&#34;</span>);

       <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">NewsView</span><span style="color:#f92672">.</span><span style="color:#a6e22e">withItems</span>(<span style="color:#a6e22e">items</span>);
   }
}
</code></pre></td></tr></table>
</div>
</div>

<p>As you can see, pretty simple stuff: we get all the news items for the database and return some kind of view with the items.</p>

<p>Can you guess what happened to that file when you take a quick look at these commit messages:</p>

<p><img src="/assets/posts/2017-12-7-atomic-commits/atomic-commits.png" alt="Final score" /></p>

<p>That’s all pretty clear right. But you might still be wondering why we created those empty tests stubs first. This is what happens when we click those <code>...</code>’s</p>

<p><img src="/assets/posts/2017-12-7-atomic-commits/atomic-commits-expanded.png" alt="Final score" /></p>

<p>This is the basic idea behind atomic commits: Small commits that tell a story.</p>

<p>The best way to do this by making the commits along the coding of the feature. Look at a piece of code you have to write or refactor. You will start to see the things you need to do: first I have to create a file. Ok create the file, commit the file and explain why you need that file. Next I need to create a method, create empty method, commit. etc&hellip;</p>

<h2 id="damn-this-is-a-lot-of-work">Damn this is a lot of work</h2>

<p>Yes it is. I’m not going to lie to you, this is something you will have to actively do. But I assure you it will improve your workflow.</p>

<p>Atomic commits will drive the quality of your code reviews on pull requests way up. they will also understand your thought process, helping them to review the changes you made and keeping them motivated along the way.</p>

<p>I bet you’re not very stoked to start a review on this one:</p>

<p><img src="/assets/posts/2017-12-7-atomic-commits/big-pr.png" alt="Final score" /></p>

<p>This is not a very fun thing to do, you will also not get a lot of great insights on this. People doze off or lose track half way through the review.</p>

<h2 id="lowering-the-barrier">Lowering the barrier</h2>

<p>Not only will you get better code reviews, you will increase knowledge sharing inside the company along the way. If there are junior developers in the team, this can be a great tool to passively teach them some tips and tricks and even change their mindset on code.</p>

<p>They can fully see the workflow and thought process the committer made. And because a single commit is now a much smaller block of code everyone in the team can chime in and discuss the code.</p>

<p>This technique also has the great benefit of making cherry picking in GIT easier. Mostly because you always have very small units to work with.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Atomic commits are not a new thing, they are even often described as a GIT best practice. Yet I don’t actually see them that often. People often either cite that it’s too much work (an excuse that seems to pop up on every good code practice thing), or that it will make their main branch too verbose (you can always GIT squash your commits before merging).</p>

<p>That said, I really hope you give this a shot. It might make your life and that of your team a little bit better. If not, you just have a feature that is a bit more verbose in your GIT history.</p>

<p><blockquote class="reddit-card" data-card-created="1512636217"><a href="https://www.reddit.com/r/programming/comments/7i5424/atomic_commits_telling_stories_with_git/?ref=share&ref_source=embed">Atomic commits: Telling stories with GIT</a> from <a href="http://www.reddit.com/r/programming">programming</a></blockquote>
<script async src="//embed.redditmedia.com/widgets/platform.js" charset="UTF-8"></script></p>

							</section>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
</div><div class="container">
        <div class="row justify-content-center">
            <div class="col-9">
                <div class="bio-card">
                    <div class="row bio-card-body">
                        <div class="col-xs-12 col-md-5 bio-card-image">
                            <a href="https://twitter.com/maybeFrederick">
                                <img src="/assets/images/my-face.jpg" alt="my face" class="img-responsive" />
                            </a>
                        </div>
                        <div class="col-xs-12 col-md-7 bio-card-txt">
                            <h2>Hey thanks for reading!</h2>
                            <p>Hope you enjoyed this post. There is no comments section here, if you've ever seen the YouTube comments
                                section you'll probably understand why. If you have any remarks or comments on this topic, please
                                dont hesitate to reach out on
                                <a href="https://twitter.com/maybeFrederick">Twitter</a> or send me a
                                <a href="mailto:frederick@brodyandhooper.com" target="_top">mail.</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<div class="footer">
        <div class="container">
            <div class="padder">
                <div class="row">
                    <div class='col-sm-8 col-12'>
                        <section class='footer-items'>
                            <header>
                                <h2>Latest posts</h2>
                            </header>
                            <ul>
                                
                                <li>
                                    <h3><a href="https://frederickvanbrabant.com/post/2019-04-03-the-simple-class/">The simple class</a></h3>
                                </li>
                                
                                <li>
                                    <h3><a href="https://frederickvanbrabant.com/post/2018-10-08-a-love-letter-to-legacy-projects/">A love letter to legacy projects</a></h3>
                                </li>
                                
                                <li>
                                    <h3><a href="https://frederickvanbrabant.com/post/2018-10-08-integration-operation-segregation-principle/">The Integration Operation Segregation Principle</a></h3>
                                </li>
                                
                                <li>
                                    <h3><a href="https://frederickvanbrabant.com/post/2018-07-24-php-performance/">What performance tricks actually work</a></h3>
                                </li>
                                
                                <li>
                                    <h3><a href="https://frederickvanbrabant.com/post/2017-12-7-atomic-commits/">Atomic commits: Telling stories with Git</a></h3>
                                </li>
                                
                            </ul>
                        </section>
                    </div>
                    <div class='col-sm-4 col-12'>
                        <section class='footer-items'>
                            <header>
                                <h2>Who now?</h2>
                            </header>
                            <p>Frederick is a Webdeveloper from Antwerp Belgium with a love for legacy code and APIs. He is the founder of
                                Brody & Hooper</p>
    
                            If you want to stay up to date on my ramblings you can subscribe to this 90's thing called
                            <a href="https://frederickvanbrabant.com/index.xml">Rss</a>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </body>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
     crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
     crossorigin="anonymous"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    
        ga('create', 'UA-98268819-1', 'auto');
        ga('send', 'pageview');
    
    </script>
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Frederick Vanbrabant",
      "url": "http://www.frederickvanbrabant.com",
      "sameAs": [
        "https://twitter.com/maybeFrederick",
        "https://www.linkedin.com/in/frederickvanbrabant/",
        "https://github.com/vanbrabantf",
        "https://symposiumapp.com/u/frederick",
        "http://www.speakersbase.com/frederick-vanbrabant"
      ]
    }
    </script>
    
    </html>